// jQuery.fuzzyMatch.js: Copyright 2011 conrad@rapportive.com (MIT License)
(function(d){function g(a,e){for(var b=a.toLowerCase(),f=e.toLowerCase(),c=b.indexOf(f),d=[];c>-1;)d.push({before:a.slice(0,c),chr:a.charAt(c),after:a.slice(c+1)}),c=b.indexOf(f,c+1);return d}d.fuzzyMatch=function(a,e){if(e==="")return{score:Math.pow(0.99999,a.length),html:d("<div>").text(a).html()};return _(g(a,e.charAt(0))).chain().map(function(b){var a=d.fuzzyMatch(b.after,e.slice(1)),c=b.before.replace(/.*(.)$/,"$1");a.score*=b.before===""?1:c.match(/[\\\/\-_+.# \t"@\[\(\{&]/)||b.chr.toLowerCase()!==
b.chr&&c.toLowerCase()===c?0.9:0.8;b.chr!==e.charAt(0)&&(a.score*=0.9999);a.score*=Math.pow(0.999,b.before.length);a.html=d("<div>").text(b.before).append(d("<b>").text(b.chr)).append(a.html).html();return a}).sortBy(_.plucker("score")).last().value()||{score:0,html:d("<div>").text(a).html()}}})(jQuery);
